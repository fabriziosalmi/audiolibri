/* Tailwind mobile optimizations */
/* To be included after compilation in the main CSS bundle */

/* Mobile-first utilities */
.tw-mobile-container {
    @apply w-full max-w-screen-sm mx-auto px-2 sm:px-4;
}

.tw-mobile-card {
    @apply rounded-lg shadow-sm bg-card dark:bg-dark-card p-3 
           transition-all duration-200 hover:shadow-md
           border border-border dark:border-dark-border;
}

.tw-mobile-text {
    @apply text-sm leading-tight;
}

/* Full-width mobile elements */
.tw-mobile-full {
    @apply w-full max-w-full overflow-hidden;
}

/* Touch-optimized buttons */
.tw-touch-button {
    @apply py-2 px-3 rounded-md active:scale-95 transition-transform
           text-sm font-medium touch-manipulation
           bg-primary text-white dark:bg-primary
           shadow-sm active:shadow-none;
}

/* Bottom navigation */
.tw-mobile-nav {
    @apply fixed bottom-0 left-0 right-0 bg-card dark:bg-dark-card
           shadow-lg border-t border-border dark:border-dark-border
           flex items-center justify-around py-2 px-1 z-50;
}

.tw-nav-item {
    @apply flex flex-col items-center justify-center
           py-1 px-2 rounded-md active:bg-gray-100 dark:active:bg-gray-800
           text-xs text-secondary-text dark:text-dark-secondary-text
           transition-colors;
}

.tw-nav-item.active {
    @apply text-primary dark:text-primary;
}

/* Optimized grid layouts */
.tw-mobile-grid {
    @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5
           gap-2 sm:gap-3 md:gap-4;
}

/* Responsive typography */
.tw-mobile-title {
    @apply text-lg font-semibold;
}

.tw-mobile-subtitle {
    @apply text-sm text-secondary-text dark:text-dark-secondary-text;
}

/* Fluid spacing */
.tw-mobile-section {
    @apply py-3 sm:py-4 md:py-6;
}

/* Improved scroll containers */
.tw-mobile-scroll {
    @apply flex overflow-x-auto pb-3 -mx-2 px-2
           snap-x snap-mandatory scroll-smooth
           scrollbar-hide;
}

.tw-mobile-scroll-item {
    @apply snap-start shrink-0 w-40 sm:w-48 mr-3;
}

/* Image optimizations */
.tw-mobile-img {
    @apply w-full h-auto object-cover rounded-md;
}

/* Touch-friendly form elements */
.tw-mobile-input {
    @apply h-12 w-full px-3 rounded-lg border border-border
           dark:border-dark-border dark:bg-dark-card
           text-base;
}

/* EN 301 549 Compliance Enhancements for Mobile */

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .tw-mobile-card,
    .tw-touch-button,
    .tw-mobile-scroll,
    * {
        transition-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        scroll-behavior: auto !important;
    }
}

/* Enhanced Focus Indicators for Mobile */
.tw-mobile-input:focus,
.tw-touch-button:focus,
.tw-nav-item:focus {
    outline: 3px solid var(--primary-color);
    outline-offset: 2px;
    border-radius: 4px;
}

@media (prefers-color-scheme: dark) {
    .tw-mobile-input:focus,
    .tw-touch-button:focus,
    .tw-nav-item:focus {
        outline-color: var(--accent-color);
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .tw-mobile-card,
    .tw-mobile-input,
    .tw-touch-button {
        border: 2px solid #000000 !important;
    }
    
    @media (prefers-color-scheme: dark) {
        .tw-mobile-card,
        .tw-mobile-input,
        .tw-touch-button {
            border: 2px solid #ffffff !important;
        }
    }
}

/* Enhanced Touch Targets for EN 301 549 */
.tw-touch-button,
.tw-nav-item,
.tw-mobile-input {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
}

/* Mobile Accessibility Improvements */
@media (max-width: 768px) {
    /* Larger text for better readability */
    .tw-mobile-text {
        font-size: 16px !important;
        line-height: 1.6 !important;
    }
    
    /* Enhanced spacing for touch targets */
    .tw-touch-button {
        margin: 4px;
        padding: 12px 16px;
    }
    
    /* Better contrast for interactive elements */
    .tw-nav-item.active {
        background-color: rgba(var(--primary-rgb), 0.1);
        border-radius: 6px;
    }
}

/* Screen Reader Support */
.tw-sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* ARIA Live Regions */
.tw-live-region {
    position: absolute;
    left: -10000px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* Print Styles for Mobile */
@media print {
    .tw-mobile-nav,
    .tw-touch-button,
    .tw-mobile-scroll {
        display: none !important;
    }
    
    .tw-mobile-card {
        break-inside: avoid;
        margin-bottom: 1rem;
    }
}
